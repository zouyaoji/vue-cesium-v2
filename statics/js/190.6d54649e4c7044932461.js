(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{"1DV0":function(s,a,t){s.exports=t("Xnrq")},Xnrq:function(s,a,t){"use strict";t.r(a);var r={data:function(){return{uniforms:{},fsRain:"\n        uniform sampler2D colorTexture;\n        varying vec2 v_textureCoordinates;\n        float hash(float x){\n          return fract(sin(x*23.3)*13.13);\n        }\n        void main(void){\n          float time = czm_frameNumber / 60.0;\n          vec2 resolution = czm_viewport.zw;\n          vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n          vec3 c=vec3(.6,.7,.8);\n          float a=-.4;\n          float si=sin(a),co=cos(a);\n          uv*=mat2(co,-si,si,co);\n          uv*=length(uv+vec2(0,4.9))*.3+1.;\n          float v=1.-sin(hash(floor(uv.x*100.))*2.);\n          float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n          c*=v*b;\n          gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5);\n        }",fsScanSegment:"\n        uniform sampler2D colorTexture;\n        uniform sampler2D depthTexture;\n        varying vec2 v_textureCoordinates;\n        uniform vec4 u_scanCenterEC;\n        uniform vec3 u_scanPlaneNormalEC;\n        uniform float u_radius;\n        uniform vec4 u_scanColor;\n        vec4 toEye(in vec2 uv, in float depth)\n        {\n          vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n          vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n          posInCamera =posInCamera / posInCamera.w;\n          return posInCamera;\n        }\n        vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n        {\n          vec3 v01 = point -planeOrigin;\n          float d = dot(planeNormal, v01) ;\n          return (point - planeNormal * d);\n        }\n        float getDepth(in vec4 depth)\n        {\n          float z_window = czm_unpackDepth(depth);\n          z_window = czm_reverseLogDepth(z_window);\n          float n_range = czm_depthRange.near;\n          float f_range = czm_depthRange.far;\n          return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n        }\n        void main()\n        {\n          gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\n          float depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\n          vec4 viewPos = toEye(v_textureCoordinates, depth);\n          vec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\n          float dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\n          if(dis < u_radius)\n          {\n            float f = 1.0 -abs(u_radius - dis) / u_radius;\n            f = pow(f, 4.0);\n            gl_FragColor = mix(gl_FragColor, u_scanColor, f);\n          }\n        }"}},methods:{ready:function(s){this.cesiumInstance=s;var a=this.cesiumInstance,t=a.Cesium,r=a.viewer,e=new t.Color(1,0,0,1),n=new t.Cartographic(t.Math.toRadians(103.65),t.Math.toRadians(32.07),2540),l=t.Cartographic.toCartesian(n),p=new t.Cartesian4(l.x,l.y,l.z,1),_=new t.Cartographic(n.longitude,n.latitude,n.height+500),v=t.Cartographic.toCartesian(_),c=new t.Cartesian4(v.x,v.y,v.z,1),o=(new Date).getTime(),i=new t.Cartesian4,h=new t.Cartesian4,u=new t.Cartesian3;this.uniforms={u_scanCenterEC:function(){return t.Matrix4.multiplyByVector(r.camera._viewMatrix,p,i)},u_scanPlaneNormalEC:function(){var s=t.Matrix4.multiplyByVector(r.camera._viewMatrix,p,i),a=t.Matrix4.multiplyByVector(r.camera._viewMatrix,c,h);return u.x=a.x-s.x,u.y=a.y-s.y,u.z=a.z-s.z,t.Cartesian3.normalize(u,u),u},u_radius:function(){return((new Date).getTime()-o)%1e3*5e4/1e3},u_scanColor:e},r.camera.setView({destination:new t.Cartesian3(-1393343.0290741834,5456331.793439052,3386100.742517333),orientation:{heading:5.876909627704607,pitch:-1.2896948627752063,roll:6.281977273529364}})}}},e=t("JFUb"),n=Object(e.a)(r,(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("html",[t("head"),t("body",[t("h1",[s._v("后期处理集合")]),s._v(" "),s._m(0),s._v(" "),t("h2",[s._v("示例")]),s._v(" "),t("h3",[s._v("加载后期处理集合")]),s._v(" "),t("h4",[s._v("预览")]),s._v(" "),t("doc-preview",[[t("div",{staticClass:"viewer"},[t("vc-viewer",{on:{ready:s.ready}},[t("vc-collection-stage-process-post",[t("vc-stage-process-post",{attrs:{"fragment-shader":s.fsRain}}),s._v(" "),t("vc-stage-process-post",{attrs:{"fragment-shader":s.fsScanSegment,uniforms:s.uniforms}})],1)],1)],1)]],2),s._v(" "),t("h4",[s._v("代码")]),s._v(" "),s._m(1),s._v(" "),t("h2",[s._v("属性")]),s._v(" "),s._m(2),s._v(" "),t("hr"),s._v(" "),t("h2",[s._v("事件")]),s._v(" "),s._m(3)],1)])])}),[function(){var s=this.$createElement,a=this._self._c||s;return a("p",[a("code",{pre:!0},[this._v("vc-collection-stage-process-post")]),this._v(" 组件用于加载后期处理集合，可以加载多组自定义着色器。注意这个组件将直接替换 "),a("code",{pre:!0},[this._v("scene.postProcessStages")]),this._v("。")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewer"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-viewer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@ready")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ready"')]),s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-collection-stage-process-post")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":fragment-shader")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fsRain"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":fragment-shader")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fsScanSegment"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":uniforms")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"uniforms"')]),s._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-collection-stage-process-post")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-viewer")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n        "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("uniforms")]),s._v(": {},\n        "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fsRain")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n            uniform sampler2D colorTexture;\n            varying vec2 v_textureCoordinates;\n            float hash(float x){\n              return fract(sin(x*23.3)*13.13);\n            }\n            void main(void){\n              float time = czm_frameNumber / 60.0;\n              vec2 resolution = czm_viewport.zw;\n              vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n              vec3 c=vec3(.6,.7,.8);\n              float a=-.4;\n              float si=sin(a),co=cos(a);\n              uv*=mat2(co,-si,si,co);\n              uv*=length(uv+vec2(0,4.9))*.3+1.;\n              float v=1.-sin(hash(floor(uv.x*100.))*2.);\n              float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n              c*=v*b;\n              gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5);\n            }`")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fsScanSegment")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n            uniform sampler2D colorTexture;\n            uniform sampler2D depthTexture;\n            varying vec2 v_textureCoordinates;\n            uniform vec4 u_scanCenterEC;\n            uniform vec3 u_scanPlaneNormalEC;\n            uniform float u_radius;\n            uniform vec4 u_scanColor;\n            vec4 toEye(in vec2 uv, in float depth)\n            {\n              vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n              vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n              posInCamera =posInCamera / posInCamera.w;\n              return posInCamera;\n            }\n            vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n            {\n              vec3 v01 = point -planeOrigin;\n              float d = dot(planeNormal, v01) ;\n              return (point - planeNormal * d);\n            }\n            float getDepth(in vec4 depth)\n            {\n              float z_window = czm_unpackDepth(depth);\n              z_window = czm_reverseLogDepth(z_window);\n              float n_range = czm_depthRange.near;\n              float f_range = czm_depthRange.far;\n              return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n            }\n            void main()\n            {\n              gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\n              float depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\n              vec4 viewPos = toEye(v_textureCoordinates, depth);\n              vec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\n              float dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\n              if(dis < u_radius)\n              {\n                float f = 1.0 -abs(u_radius - dis) / u_radius;\n                f = pow(f, 4.0);\n                gl_FragColor = mix(gl_FragColor, u_scanColor, f);\n              }\n            }`")]),s._v("\n      }\n    },\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n      "),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("ready")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("cesiumInstance")]),s._v(") {\n        "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("cesiumInstance")]),s._v(" = cesiumInstance\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v(", viewer } = "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("cesiumInstance")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" scanColor = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Color")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" maxRadius = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50000")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" duration = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" cartographicCenter = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartographic")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Math")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toRadians")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("103.65")]),s._v("), "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Math")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toRadians")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("32.07")]),s._v("), "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2290")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("250")]),s._v(")\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _Cartesian3Center = "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Cartographic")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toCartesian")]),s._v("(cartographicCenter)\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _Cartesian4Center = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian4")]),s._v("(_Cartesian3Center."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("x")]),s._v(", _Cartesian3Center."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("y")]),s._v(", _Cartesian3Center."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("z")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _CartographicCenter1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartographic")]),s._v("(\n          cartographicCenter."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("longitude")]),s._v(",\n          cartographicCenter."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("latitude")]),s._v(",\n          cartographicCenter."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("height")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v("\n        )\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _Cartesian3Center1 = "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Cartographic")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toCartesian")]),s._v("(_CartographicCenter1)\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _Cartesian4Center1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian4")]),s._v("(_Cartesian3Center1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("x")]),s._v(", _Cartesian3Center1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("y")]),s._v(", _Cartesian3Center1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("z")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _time = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("()."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getTime")]),s._v("()\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _scratchCartesian4Center = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian4")]),s._v("()\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _scratchCartesian4Center1 = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian4")]),s._v("()\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" _scratchCartesian3Normal = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian3")]),s._v("()\n        "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("uniforms")]),s._v(" = {\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("u_scanCenterEC")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Matrix4")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("multiplyByVector")]),s._v("(viewer."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("camera")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("_viewMatrix")]),s._v(", _Cartesian4Center, _scratchCartesian4Center)\n          },\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("u_scanPlaneNormalEC")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" temp = "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Matrix4")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("multiplyByVector")]),s._v("(viewer."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("camera")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("_viewMatrix")]),s._v(", _Cartesian4Center, _scratchCartesian4Center)\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" temp1 = "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Matrix4")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("multiplyByVector")]),s._v("(viewer."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("camera")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("_viewMatrix")]),s._v(", _Cartesian4Center1, _scratchCartesian4Center1)\n            _scratchCartesian3Normal."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("x")]),s._v(" = temp1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("x")]),s._v(" - temp."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("x")]),s._v("\n            _scratchCartesian3Normal."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("y")]),s._v(" = temp1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("y")]),s._v(" - temp."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("y")]),s._v("\n            _scratchCartesian3Normal."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("z")]),s._v(" = temp1."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("z")]),s._v(" - temp."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("z")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Cartesian3")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("normalize")]),s._v("(_scratchCartesian3Normal, _scratchCartesian3Normal)\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" _scratchCartesian3Normal\n          },\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("u_radius")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (maxRadius * (("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("()."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getTime")]),s._v("() - _time) % duration)) / duration\n          },\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("u_scanColor")]),s._v(": scanColor\n        }\n        viewer."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("camera")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setView")]),s._v("({\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("destination")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cesium")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cartesian3")]),s._v("(-"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1393343.0290741834")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5456331.793439052")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3386100.742517333")]),s._v("),\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("orientation")]),s._v(": {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("heading")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5.876909627704607")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pitch")]),s._v(": -"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.2896948627752063")]),s._v(",\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("roll")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6.281977273529364")]),s._v("\n          }\n        })\n      }\n    }\n  }\n")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("属性名")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("默认值")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("stages")]),s._v(" "),t("td",[s._v("Array")]),s._v(" "),t("td"),s._v(" "),t("td",[t("code",{pre:!0},[s._v("optional")]),s._v(" 指定 PostProcessStage 数组。")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("事件名")]),s._v(" "),t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("ready")]),s._v(" "),t("td",[s._v("{Cesium, viewer}")]),s._v(" "),t("td",[s._v("该组件渲染完毕时触发，返回 Cesium 类, viewer 实例。")])])])])}],!1,null,null,null);a.default=n.exports}}]);
//# sourceMappingURL=190.6d54649e4c7044932461.js.map